{{ define "title" }}Lojrat Aktive - Spyfall Shqip{{ end }}

{{ define "content" }}
<section class="container mx-auto px-4 py-8 md:py-12">
  <header class="text-center mb-10">
    <h1
      class="text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-[var(--primary-teal)] to-[var(--secondary-coral)]">
      Lojrat Aktive
    </h1>
    <p class="mt-3 text-lg text-[var(--text-secondary)] max-w-2xl mx-auto">
      Bashkohu me lojëra publike që presin lojtarë, ose krijo një dhomë të re për miqtë tuaj.
    </p>
  </header>

  <div class="max-w-xl mx-auto mb-10">
    <smart-search placeholder="Kërko sipas emrit të dhomës..." name="q" value="{{ .SearchQuery }}"
      class="w-full"></smart-search>
  </div>

  <div id="games-list">
    {{ if .Games }}
    <div class="grid gap-6 md:gap-8 md:grid-cols-2 lg:grid-cols-3">
      {{ range .Games }}
      <article
        class="group relative bg-[var(--background-light)] border border-[var(--border-accent)]/30 rounded-2xl p-6 shadow-lg hover:shadow-2xl hover:border-[var(--primary-teal)] transition-all duration-300">
        <div class="flex items-start justify-between mb-4">
          <h2
            class="text-xl font-bold text-[var(--text-primary)] group-hover:text-[var(--primary-teal)] transition-colors">
            {{ .Name }}
          </h2>
          <span
            class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-emerald-500/10 text-emerald-400">
            Aktive
          </span>
        </div>

        <ul class="space-y-2 text-sm text-[var(--text-secondary)] mb-5">
          <li class="flex items-center gap-2">
            <span class="text-[var(--primary-teal)]">🕵️</span>
            Spiunë për lojë: <span class="font-semibold text-[var(--text-primary)]">{{ .SpyNumber }}</span>
          </li>
          <li class="flex items-center gap-2">
            <span class="text-[var(--secondary-coral)]">👥</span>
            Maks. lojtarë: <span class="font-semibold text-[var(--text-primary)]">{{ .MaxPlayers }}</span>
          </li>
          <li class="flex items-center gap-2">
            <span class="text-[var(--accent-violet)]">🕒</span>
            Krijuar: <span class="font-semibold text-[var(--text-primary)]">{{ .CreatedAt.Format "15:04" }}</span>
          </li>
        </ul>

        <smart-link href="/room/{{ .RoomID }}" class="btn-primary">
          Hyj në dhomë
        </smart-link>
      </article>
      {{ end }}
    </div>
    {{ else }}
    <div class="text-center py-16">
      <span class="text-6xl">🕵️‍♂️</span>
      <h2 class="mt-4 text-2xl font-bold text-[var(--text-primary)]">Asnjë lojë aktive për momentin</h2>
      <p class="mt-2 text-[var(--text-secondary)]">Krijo një dhomë të re dhe fto miqtë të luajnë!</p>
    </div>
    {{ end }}
  </div>
</section>
<section class="container mx-auto px-4 py-12 text-center">
  <p class="text-lg max-w-3xl mx-auto" style="color: var(--text-secondary)">
    Zgjidh një lojë online ose kthehu dhe krijo një lojë lokale!
  </p>
  <div class="mt-8">
    <smart-link href="/"
      class="text-[var(--primary-teal)] hover:text-[var(--primary-teal-dark)] transition-colors duration-200">
      ← Kthehu në Faqen Kryesore
    </smart-link>
  </div>
</section>
{{ end }}
