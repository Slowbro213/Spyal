{{ define "title" }}Spyfall Shqip - Loja Më Argëtuese e Fshehjes dhe Zbulimit{{
end }} {{ define "content" }}
<section class="hero">
  <div class="container mx-auto px-4 text-center">
    <span class="hero-emoji">🕵️</span>
    <h1 class="hero-text mt-4">Spyal</h1>
    <p class="hero-text mt-4 text-xl md:text-2xl text-gray-300 max-w-2xl mx-auto">
      Një lojë deduktimi dhe mashtrimi ku 5-10 lojtarë përpiqen të zbulojnë
      spiunin... ose të fshihen nëse janë spiun!
    </p>
    <div class="mt-8 flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6">
      <smart-link prefetch="load" href="/create" class="btn-primary">
        <span class="mr-2">🎮</span> Krijo Lojë
      </smart-link>
      <smart-link prefetch="load" href="/games" class="btn-secondary">
        <span class="mr-2">🤝</span> Bashkohu
      </smart-link>
    </div>
  </div>
</section>
<section id="lojërat" class="container mx-auto px-4">
  <h2 class="text-center mb-8">Lojëra Aktive</h2>

  {{ $rooms := .Rooms }}
  {{ $cap := .RoomsCap }}
  {{ $show := len $rooms }}

  {{ if gt $show 0 }}
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {{ range $i, $room := $rooms }}
    {{ if lt $i $cap }}
    <article class="group relative bg-[var(--background-light)]
                           border border-[var(--border-accent)]/30 rounded-2xl p-6
                           shadow-lg hover:shadow-2xl hover:border-[var(--primary-teal)]
                           transition-all duration-300">
      <div class="flex items-start justify-between mb-4">
        <h2 class="text-xl font-bold text-[var(--text-primary)]
                         group-hover:text-[var(--primary-teal)] transition-colors">
          {{ .Name }}
        </h2>
        <span class="inline-flex items-center px-3 py-1 rounded-full
                           text-xs font-semibold bg-emerald-500/10 text-emerald-400">
          Aktive
        </span>
      </div>

      <ul class="space-y-2 text-sm text-[var(--text-secondary)] mb-5">
        <li class="flex items-center gap-2">
          <span class="text-[var(--primary-teal)]">🕵️</span>
          Spiunë për lojë: <span class="font-semibold text-[var(--text-primary)]">{{ .SpyNumber }}</span>
        </li>
        <li class="flex items-center gap-2">
          <span class="text-[var(--secondary-coral)]">👥</span>
          Maks. lojtarë: <span class="font-semibold text-[var(--text-primary)]">{{ .MaxPlayers }}</span>
        </li>
        <li class="flex items-center gap-2">
          <span class="text-[var(--accent-violet)]">🕒</span>
          Krijuar: <span class="font-semibold text-[var(--text-primary)]">{{ .CreatedAt.Format "15:04" }}</span>
        </li>
      </ul>

      <smart-link href="/room/{{ .RoomID }}" class="btn-primary">
        Hyj në dhomë
      </smart-link>
    </article>
    {{ end }}
    {{ end }}
  </div>

  {{ if gt $show $cap }}
  <div class="text-center mt-8">
    <smart-link prefetch="load" href="/games" class="btn-secondary">
      <span class="mr-2">👀</span> Shiko më shumë
    </smart-link>
  </div>
  {{ end }}
  {{ else }}
  <p class="text-center text-gray-400">Asnjë lojë aktive për momentin.</p>
  {{ end }}
</section>
<section id="veçoritë" class="container mx-auto px-4">
  <h2 class="text-center mb-12">Pse të luash Spyfall?</h2>
  <p class="text-center text-lg text-gray-300 mb-8">
    Një eksperiencë unike sociale dhe strategjike
  </p>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="feature-card">
      <span class="text-4xl text-emerald-400">🔍</span>
      <h3 class="mt-4">Testoni Vëzhgimin</h3>
      <p class="mt-2 text-gray-300">
        Përdorni pyetje të zgjuara dhe vëzhgimin tuaj për të zbuluar spiunin
        midis grupit.
      </p>
    </div>
    <div class="feature-card">
      <span class="text-4xl text-violet-400">🎭</span>
      <h3 class="mt-4">Zhvilloni Maskën</h3>
      <p class="mt-2 text-gray-300">
        Nëse jeni spiuni, duhet të bëni shumë pyetje pa u zbuluar.
      </p>
    </div>
    <div class="feature-card">
      <span class="text-4xl text-amber-400">⏱️</span>
      <h3 class="mt-4">Kohë e Kufizuar</h3>
      <p class="mt-2 text-gray-300">
        Vetëm 8 minuta për të zbuluar spiunin - presioni është pjesë e lojës!
      </p>
    </div>
  </div>
</section>

<section id="si-luhet" class="container mx-auto px-4">
  <h2 class="text-center mb-12">Si të luhet?</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div class="feature-card">
      <h3 class="mb-4">Për Lojtarët</h3>
      <ol class="list-decimal list-inside space-y-2 text-gray-300">
        <li>Secili merr një vendndodhje të fshehtë (përveç spiunit)</li>
        <li>Bëni pyetje për të kuptuar se kush nuk e di vendndodhjen</li>
        <li>Votoni për spiunin para se të skadojë koha</li>
      </ol>
    </div>
    <div class="feature-card">
      <h3 class="mb-4">Për Spiunin</h3>
      <ol class="list-decimal list-inside space-y-2 text-gray-300">
        <li>Nuk e dini vendndodhjen - duhet të gjeni</li>
        <li>Bëni pyetje që të mos dukeni i dyshimtë</li>
        <li>Përpiquni të merrni mend vendndodhjen ose të shpëtoni</li>
      </ol>
    </div>
  </div>
</section>
{{ end }}
